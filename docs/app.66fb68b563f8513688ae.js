!function(e){function t(t){for(var n,c,i=t[0],u=t[1],l=t[2],f=0,p=[];f<i.length;f++)c=i[f],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&p.push(a[c][0]),a[c]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);for(s&&s(t);p.length;)p.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,i=1;i<r.length;i++){var u=r[i];0!==a[u]&&(n=!1)}n&&(o.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},a={1:0},o=[];function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.e=function(e){var t=[],r=a[e];if(0!==r)if(r)t.push(r[2]);else{var n=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=n);var o,i=document.createElement("script");i.charset="utf-8",i.timeout=120,c.nc&&i.setAttribute("nonce",c.nc),i.src=function(e){return c.p+""+({0:"antd-icons"}[e]||e)+"."+{0:"c0cc0d26172c2f0529e1"}[e]+".js"}(e);var u=new Error;o=function(t){i.onerror=i.onload=null,clearTimeout(l);var r=a[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",u.name="ChunkLoadError",u.type=n,u.request=o,r[1](u)}a[e]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:i})}),12e4);i.onerror=i.onload=o,document.head.appendChild(i)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/react-heroes/",c.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var s=u;o.push([374,2]),r()}({286:function(e,t,r){},300:function(e,t,r){var n={"./nb":177,"./nb.js":177};function a(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=o,e.exports=a,a.id=300},338:function(e,t,r){},364:function(e,t,r){},373:function(e,t,r){},374:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"ui",(function(){return b})),r.d(n,"hero",(function(){return S}));var a=r(0),o=r.n(a),c=r(14),i=r.n(c),u=r(15),l=r(47);r(90),r(101),r(102),r(104),r(105),r(106),r(107);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p={selectedHeroId:"0"},d="SELECT_HERO";function m(e){return{type:d,payload:{heroId:e}}}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(r,!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{selectedHeroId:t.payload.heroId});default:return e}}r(147),r(148),r(150),r(151),r(155);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(r,!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e,t,r,n,a,o,c){try{var i=e[o](c),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function c(e){O(o,n,a,c,i,"next",e)}function i(e){O(o,n,a,c,i,"throw",e)}c(void 0)}))}}var j={list:[],profiles:{}},E="SET_HEROES",w="SET_PROFILE";function P(e){return{type:E,payload:{heroes:e}}}function x(e,t){return{type:w,payload:{heroId:e,profile:t}}}function k(e,t){return g(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch("https://hahow-recruit.herokuapp.com/heroes/".concat(e,"/profile"),{method:"PATCH",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:return n=r.sent,r.next=5,n.text();case 5:return a=r.sent,r.abrupt("return",a);case 7:case"end":return r.stop()}}),r)})))}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return y({},e,{list:t.payload.heroes});case w:return y({},e,{profiles:y({},e.profiles,v({},t.payload.heroId,t.payload.profile))});default:return e}}var N=r(192),_=Object(l.c)(n),D=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,Object(l.e)(_,Object(l.a)(N.a))),I=r(66),T=r(41),C=(r(156),r(231),r(46)),R=r.n(C),H=r(199);function L(){var e=Object(u.c)((function(e){return e.hero.list})),t=Object(u.b)();return Object(a.useEffect)((function(){t(function(){var e=g(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://hahow-recruit.herokuapp.com/heroes");case 2:return r=e.sent,e.next=5,r.json();case 5:n=e.sent,t(P(n));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t]),{heroes:e,loading:0===e.length}}r(280),r(281);var M=r(193),A=r.n(M);r(286);function U(e){var t=e.hero,r=e.selected,n=Object(u.b)();return o.a.createElement(I.b,{to:"/heroes/".concat(t.id),onClick:function(){n(m(t.id))}},o.a.createElement(A.a,{className:"custom-card ".concat(r?"selected":"")},o.a.createElement("img",{className:"hero-img",src:t.image,alt:t.name}),o.a.createElement("p",null,t.name)))}r(338);function J(){var e=L(),t=e.heroes,r=e.loading,n=Object(u.c)((function(e){return e.ui.selectedHeroId}));return o.a.createElement("div",{className:"hero-cards-wrapper"},r&&o.a.createElement(R.a,{type:"loading",style:{fontSize:24},spin:!0}),o.a.createElement("div",{className:"hero-cards"},o.a.createElement(H.a,{delay:300},t.map((function(e){return o.a.createElement("div",{key:e.id,className:"card-wrapper"},o.a.createElement(U,{key:e.id,hero:e,selected:n===e.id}))})))))}r(339),r(340),r(341),r(185),r(346),r(347),r(351),r(353),r(355),r(356);var F=r(197),X=r.n(F),q=(r(169),r(125)),z=r.n(q),B=(r(358),r(88)),G=r.n(B),K=(r(171),r(86)),V=r.n(K),Q=(r(360),r(196)),W=r.n(Q),Y=(r(362),r(130)),Z=r.n(Y);function $(e){var t=Object(u.c)((function(t){return t.hero.profiles[e]})),r=Object(u.b)();return e&&!t&&r(function(e){return function(){var t=g(regeneratorRuntime.mark((function t(r){var n,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://hahow-recruit.herokuapp.com/heroes/".concat(e,"/profile"));case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,o=Object.values(a).reduce((function(e,t){return e+t}),0),a.maxPoints=o,r(x(e,a));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e)),t}r(364);function ee(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function te(e,t,r,n,a,o,c){try{var i=e[o](c),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(r,!0).forEach((function(t){ae(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ce=["str","int","agi","luk"];function ie(){var e=Object(T.g)().heroId,t=oe(Object(a.useState)(!1),2),r=t[0],n=t[1],c=$(e),i=Object(u.b)();if(Object(a.useEffect)((function(){return i(m(e)),function(){return i(m("0"))}}),[i,e]),Number(e)>0&&!c)return o.a.createElement("div",{className:"hero-profile"},o.a.createElement(Z.a,{dashed:!0}),o.a.createElement(W.a,{paragraph:{rows:4},active:!0}));function l(t){var r=ne({},c,ae({},t,c[t]-1));i(x(e,r))}function s(t){var r=ne({},c,ae({},t,c[t]+1));i(x(e,r))}function f(){var t;return t=regeneratorRuntime.mark((function t(){var a,o,u,l,s,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=2;break}return t.abrupt("return");case 2:a=c.maxPoints,o=ee(c,["maxPoints"]),u=0,l=0,s=Object.values(o);case 5:if(!(l<s.length)){t.next=13;break}if(!((f=s[l])<0)){t.next=9;break}return t.abrupt("return");case 9:u+=f;case 10:l++,t.next=5;break;case 13:if(u===a){t.next=15;break}return t.abrupt("return");case 15:return n(!0),t.next=18,i(k(e,o));case 18:"OK"===t.sent&&(n(!1),X.a.success("儲存成功！"));case 20:case"end":return t.stop()}}),t)})),(f=function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function c(e){te(o,n,a,c,i,"next",e)}function i(e){te(o,n,a,c,i,"throw",e)}c(void 0)}))}).apply(this,arguments)}var p=c.maxPoints-ce.reduce((function(e,t){return e+c[t]}),0);return o.a.createElement("div",{className:"hero-profile"},o.a.createElement(Z.a,{dashed:!0}),o.a.createElement(z.a,{gutter:{xs:16,sm:16,md:24},type:"flex",align:"bottom"},o.a.createElement(V.a,{xs:24,sm:12,md:12},ce.map((function(e){return o.a.createElement(ue,{key:e,ability:e,point:c[e],increase:s,decrease:l,remainingPoints:p})}))),o.a.createElement(V.a,{xs:24,sm:12,md:12},o.a.createElement("div",{className:"right-panel"},o.a.createElement("p",{className:"remaining"},"剩餘點數：",p),o.a.createElement(G.a,{type:"primary",className:"save-button",onClick:function(){return f.apply(this,arguments)},disabled:0!==p,loading:r},"儲存")))))}function ue(e){var t=e.ability,r=e.point,n=e.increase,a=e.decrease,c=e.remainingPoints<=0,i=r<=0;return o.a.createElement("div",{className:"ability"},o.a.createElement("p",null,t.toUpperCase()),o.a.createElement(G.a,{shape:"circle",icon:"plus",onClick:function(){return n(t)},disabled:c}),o.a.createElement("p",null,r),o.a.createElement(G.a,{shape:"circle",icon:"minus",onClick:function(){return a(t)},disabled:i}))}r(373);function le(){return o.a.createElement("div",{className:"my-heroes"},o.a.createElement("h1",null,"Go Hero!"),o.a.createElement(I.a,null,o.a.createElement(J,null),o.a.createElement(T.d,null,o.a.createElement(T.b,{path:"/heroes/:heroId",component:ie,exact:!0}),o.a.createElement(T.a,{to:"/"}))))}i.a.render(o.a.createElement((function(){return o.a.createElement(u.a,{store:D},o.a.createElement(le,null))}),null),document.getElementById("app"))}});